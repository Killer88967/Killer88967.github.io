<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Under Construction</title>
    <!-- <link rel="icon" type="image/png" href="logo.png" /> -->
    <link rel="stylesheet" href="css/UnderConstruction.css" />
  </head>
  <body>
    <div id="test">
      <h1>Under Construction</h1>
      <p>
        This site is currently under construction. Please check back soon for
        updates.
      </p>
      <img src="imgs/150x150.png" alt="Under Construction Image" />
      <p>Last update was <strong id="time">00:00:00</strong> ago!</p>
      <script>
        let startTime = new Date().getTime();
        let timerId = null;
        let eventSource = new EventSource('update');

        eventSource.onmessage = (event) => {
          let currentTime = new Date().getTime();
          let timeElapsed = currentTime - startTime;
          let seconds = Math.floor(timeElapsed / 1000);
          let minutes = Math.floor(seconds / 60);
          let hours = Math.floor(minutes / 60);
          seconds %= 60;
          minutes %= 60;
          let timeString = `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;
          document.getElementById("time").innerHTML = timeString;
        };

        function pad(number) {
          return (number < 10? "0" : "") + number;
        }
      </script>
    </div>
  </body>
</html>